@echo off
cd /D C:\Users\wan\Downloads\Week-12-FreeRTOS_Worksheets-1\00-multitasking-evolution\practice\lab3-coop-vs-preemptive\lab3\build || (set FAIL_LINE=2& goto :ABORT)
C:\Users\wan\.espressif\python_env\idf6.0_py3.11_env\Scripts\python.exe C:/esp-idf/tools/kconfig_new/prepare_kconfig_files.py --list-separator=semicolon --env-file C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config.env || (set FAIL_LINE=3& goto :ABORT)
C:\Users\wan\.espressif\python_env\idf6.0_py3.11_env\Scripts\python.exe -m kconfgen --list-separator=semicolon --kconfig C:/esp-idf/Kconfig --sdkconfig-rename C:/esp-idf/sdkconfig.rename --config C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/sdkconfig --env IDF_MINIMAL_BUILD=n --env-file C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config.env --env IDF_TARGET=esp32 --env IDF_TOOLCHAIN=gcc --env IDF_ENV_FPGA= --env IDF_INIT_VERSION=6.0.0 --dont-write-deprecated --output header C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/sdkconfig.h --output cmake C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/sdkconfig.cmake --output json C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/sdkconfig.json --output json_menus C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/kconfig_menus.json --output config C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/sdkconfig || (set FAIL_LINE=4& goto :ABORT)
C:\Users\wan\.espressif\python_env\idf6.0_py3.11_env\Scripts\python.exe C:/esp-idf/tools/check_term.py || (set FAIL_LINE=5& goto :ABORT)
C:\Users\wan\.espressif\tools\cmake\4.0.3\bin\cmake.exe -E env COMPONENT_KCONFIGS_SOURCE_FILE=C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/kconfigs.in COMPONENT_KCONFIGS_PROJBUILD_SOURCE_FILE=C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/kconfigs_projbuild.in KCONFIG_CONFIG=C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/sdkconfig IDF_TARGET=esp32 IDF_TOOLCHAIN=gcc IDF_ENV_FPGA= IDF_INIT_VERSION=6.0.0 IDF_MINIMAL_BUILD=n C:/Users/wan/.espressif/python_env/idf6.0_py3.11_env/Scripts/python.exe -m menuconfig C:/esp-idf/Kconfig || (set FAIL_LINE=6& goto :ABORT)
C:\Users\wan\.espressif\python_env\idf6.0_py3.11_env\Scripts\python.exe -m kconfgen --list-separator=semicolon --kconfig C:/esp-idf/Kconfig --sdkconfig-rename C:/esp-idf/sdkconfig.rename --config C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/sdkconfig --env IDF_MINIMAL_BUILD=n --env-file C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config.env --env IDF_TARGET=esp32 --env IDF_TOOLCHAIN=gcc --env IDF_ENV_FPGA= --env IDF_INIT_VERSION=6.0.0 --output header C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/sdkconfig.h --output cmake C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/sdkconfig.cmake --output json C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/sdkconfig.json --output json_menus C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/build/config/kconfig_menus.json --output config C:/Users/wan/Downloads/Week-12-FreeRTOS_Worksheets-1/00-multitasking-evolution/practice/lab3-coop-vs-preemptive/lab3/sdkconfig || (set FAIL_LINE=7& goto :ABORT)
goto :EOF

:ABORT
set ERROR_CODE=%ERRORLEVEL%
echo Batch file failed at line %FAIL_LINE% with errorcode %ERRORLEVEL%
exit /b %ERROR_CODE%